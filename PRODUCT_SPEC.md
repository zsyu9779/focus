# Focus Friends (暂定名) - 产品功能规格说明书 (PRD)

**版本**: 1.0  
**日期**: 2025-11-27  
**状态**: 初稿 (待讨论)

---

## 1. 产品愿景 (Product Vision)
打造一款结合 **Gamification（游戏化）**、**Loss Aversion（损失厌恶）** 和 **Emotional Attachment（情感寄托）** 的自律养成应用。通过照顾虚拟生命的责任感，抵消自律过程中的枯燥与痛苦，帮助用户建立长期有益的生活习惯。

---

## 2. 核心玩法 (Core Gameplay)

### 2.1 习惯契约与生命诞生 (The Pact & Birth)
*   **习惯设定**: 用户输入需要养成的习惯（如：阅读、健身、早起）和每日目标时长。
*   **盲盒机制**: 
    *   用户不直接选择宠物，而是获得一颗“蛋”。
    *   **属性羁绊**: 习惯类型决定宠物潜在属性。
        *   💪 **运动/健身** -> 活力型（小豹子、柴犬）
        *   📚 **学习/阅读** -> 智慧型（猫头鹰、狐狸）
        *   🧘 **生活/冥想** -> 治愈型（水豚、考拉）
    *   **孵化**: 坚持自律 3 天后，蛋破壳，揭晓宠物真容。

### 2.2 专注模式与强制自律 (Focus Mode)
*   **开启专注**: 
    *   用户点击“开始陪伴/专注”，进入计时模式。
    *   **严格模式**: 调用 iOS **Screen Time API**，屏蔽除白名单外的所有娱乐应用。
*   **实时反馈**:
    *   **灵动岛 (Dynamic Island)**: 显示宠物正在陪你一起努力（如：它也在看书、举铁）。
    *   **锁屏实时活动 (Live Activities)**: 不解锁手机即可看到剩余时间和宠物状态。
*   **紧急暂停 (Emergency Mode)**:
    *   每周提供 1-2 张“请假条”。使用后可暂停当日计划而不惩罚宠物，但当日无成长值。

### 2.3 养成与进化 (Growth & Evolution)
*   **喂养反馈**: 完成每日目标后，获得“食物”，手动喂养宠物。
*   **生长阶段**: 每 21 天为一个生长周期（习惯养成周期）。
    *   🥚 **第 0-3 天**: 蛋 (神秘期)
    *   👶 **第 4-21 天**: 幼年期 (圆滚滚，依赖性强)
    *   👦 **第 22-42 天**: 成长期 (体型变大，特征显现)
    *   🧑 **第 43-63 天**: 成熟期 (形态华丽，解锁装扮)
    *   🎓 **毕业**: 完成所有阶段后，宠物“毕业”去环游世界，会不定期寄回明信片。
*   **互动系统**:
    *   **抚摸**: 点击屏幕，宠物根据当前亲密度做出反应。
    *   **心情**: 专注度高（超额完成）宠物开心；勉强达标则平淡。

### 2.4 惩罚与死亡 (Penalty & Death)
*   **饥饿状态**: 当日未完成目标，宠物进入“饥饿/失落”状态，形象变得萎靡。
*   **死亡机制**: 
    *   **连续 X 天** (如 3 天) 未完成目标，宠物死亡。
    *   死亡是永久的，不可逆转（除复活挑战外）。
*   **墓碑系统**:
    *   死亡后，宠物变成一座墓碑，永久保留在“家园”中。
    *   **墓志铭**: 用户需输入失败原因（如：“死于刷抖音”），作为永久警示。
*   **复活挑战 (Resurrection)**:
    *   提供唯一一次复活机会：需开启“地狱模式”（如连续 7 天双倍专注时长），挑战成功则复活，失败则彻底消失。

---

## 3. 功能模块详解 (Feature List)

### 3.1 首页 / 森林家园 (The Habitat)
*   展示当前正在养成的宠物。
*   背景随现实时间（白天/黑夜）变化。
*   **历史档案馆**: 滑动查看已毕业的宠物相册和已死亡的宠物墓地。

### 3.2 专注计时器 (Focus Timer)
*   极简设计，突出剩余时间和宠物动画。
*   屏蔽干扰功能的开关（需权限授权）。
*   白名单设置入口。

### 3.3 桌面小组件 (Widgets)
*   **状态组件**: 实时显示宠物状态（饿了、在睡觉、求抱抱）。
*   **墓碑组件**: 如果当前宠物死亡，桌面直接显示墓碑，产生视觉冲击，提醒用户重新开始。

### 3.4 社交功能 (Social) - *v1.1 规划*
*   **结伴专注**: 邀请好友一起专注，两只宠物在同一屏幕互动。
*   **互相监督**: 好友可以查看你的宠物状态，如果它饿了，好友可以提醒你（但不能替你喂）。

---

## 4. 技术可行性与关键点 (Technical Feasibility)

*   **iOS Screen Time API (FamilyControls, ManagedSettings)**:
    *   核心壁垒功能。需要向 Apple 申请 `Family Controls` 权限。
    *   用于实现真正的“应用屏蔽”，而非仅仅是 UI 遮挡。
*   **Live Activities & Dynamic Island**:
    *   使用 `ActivityKit` 实现。增强用户在不进入 App 时的陪伴感。
*   **WidgetKit**:
    *   实现桌面强提醒。
*   **SwiftData**:
    *   本地数据存储，记录习惯、宠物状态、历史记录。

---

## 5. 商业化想象 (Monetization Ideas) - *供讨论*
*   **皮肤/饰品**: 为宠物购买帽子、围巾（不影响数值）。
*   **复活道具**: (慎用，可能破坏自律的严肃性) 极高价格购买复活机会。
*   **高级统计**: 解锁详细的专注数据分析图表。

---

## 6. 下一步行动 (Next Steps)
1.  **确认 MVP 范围**: 建议第一版包含 2.1, 2.2, 2.3, 2.4 中的核心逻辑。
2.  **UI/UX 设计**: 确定宠物的美术风格（像素风 / 扁平插画 / 3D）。
3.  **技术验证**: 优先跑通 Screen Time API 的屏蔽流程。
